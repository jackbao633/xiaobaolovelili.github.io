<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>恋爱日记</title>
    <style>
        #entries .entry {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            position: relative;
        }
        #entries .entry .delete {
            position: absolute;
            right: 10px;
            top: 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <!-- 导航链接 -->
    </header>
    <main>
        <h1>恋爱日记</h1>
        <form id="diaryForm">
            <textarea name="entry" placeholder="写下今天的美好回忆..." required></textarea>
            <button type="submit">保存日记</button>
        </form>
        <div id="entries">
            <!-- 日记条目将在这里显示 -->
        </div>
    </main>
    <footer>
        <!-- 页脚内容 -->
    </footer>
    <script>
        // 从localStorage加载日记条目
        function loadEntries() {
            var entries = localStorage.getItem('diaryEntries');
            if (entries) {
                document.getElementById('entries').innerHTML = entries;
            }
        }

        // 保存日记条目到localStorage
        function saveEntries() {
            localStorage.setItem('diaryEntries', document.getElementById('entries').innerHTML);
        }

        // 删除日记条目并更新localStorage
        function deleteEntry(entryElement) {
            entryElement.remove();
            saveEntries();
        }

        document.addEventListener('DOMContentLoaded', loadEntries); // 页面加载完成后加载日记

        document.getElementById('diaryForm').addEventListener('submit', function(event) {
            event.preventDefault();

            var entry = document.querySelector('textarea[name="entry"]').value;
            var entryDate = new Date().toLocaleString();

            var entryElement = document.createElement('div');
            entryElement.className = 'entry';
            entryElement.innerHTML = entryDate + ': ' + entry;

            var deleteButton = document.createElement('span');
            deleteButton.className = 'delete';
            deleteButton.textContent = '删除';
            deleteButton.onclick = function() {
                deleteEntry(entryElement);
            };

            entryElement.appendChild(deleteButton);
            document.getElementById('entries').appendChild(entryElement);

            saveEntries(); // 保存到localStorage
            document.querySelector('textarea[name="entry"]').value = '';
        });
    </script>
</body>
</html>
